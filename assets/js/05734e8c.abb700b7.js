"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5290],{3905:function(e,t,r){r.d(t,{Zo:function(){return u},kt:function(){return m}});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=c(r),m=a,d=h["".concat(l,".").concat(m)]||h[m]||p[m]||i;return r?n.createElement(d,o(o({ref:t},u),{},{components:r})):n.createElement(d,o({ref:t},u))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},67274:function(e,t,r){r.r(t),r.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p}});var n=r(83117),a=r(80102),i=(r(67294),r(3905)),o=["components"],s={},l="Trust Architecture",c={unversionedId:"Technical/Trust-Architecture",id:"Technical/Trust-Architecture",title:"Trust Architecture",description:"Exactly what layers in the stack trust each other is a key issue for Enarx.  This diagram gives a simple view of the various layers in the VM case (e.g. with AMD SEV), and what their role is.",source:"@site/docs/Technical/Trust-Architecture.md",sourceDirName:"Technical",slug:"/Technical/Trust-Architecture",permalink:"/docs/Technical/Trust-Architecture",editUrl:"https://github.com/enarx/enarx.github.io/blob/main/docs/Technical/Trust-Architecture.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Threat Model",permalink:"/docs/Technical/Threat"},next:{title:"TEEs",permalink:"/docs/Technical/TEE"}},u={},p=[{value:"Components and associated trust domains",id:"components-and-associated-trust-domains",level:2},{value:"CPU",id:"cpu",level:3},{value:"Kernel",id:"kernel",level:3},{value:"VMM (Virtual Memory Manager)",id:"vmm-virtual-memory-manager",level:3},{value:"Microkernel (\u03bckernel)",id:"microkernel-\u03bckernel",level:3},{value:"WASM (WebAssembly runtime)",id:"wasm-webassembly-runtime",level:3},{value:"WASI (WebAssembly System Interface)",id:"wasi-webassembly-system-interface",level:3},{value:"Application",id:"application",level:3},{value:"Diagram of Enarx components",id:"diagram-of-enarx-components",level:2}],h={toc:p};function m(e){var t=e.components,r=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"trust-architecture"},"Trust Architecture"),(0,i.kt)("p",null,"Exactly what layers in the stack trust each other is a key issue for Enarx.  This diagram gives a simple view of the various layers in the VM case (e.g. with ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/enarx/enarx/wiki/SEV-architectural"},"AMD SEV"),"), and what their role is."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/enarx/enarx.github.io/main/static/assets/images/trust-architecture.png",alt:"Enarx trust architecture (VM case)"})),(0,i.kt)("p",null,"Enarx provides four layers in the run-time stack.  Working from the lowest up, they are:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"a VMM (Virtual Memory Manager)"),(0,i.kt)("li",{parentName:"ol"},"a microkernel (\u03bckernel)"),(0,i.kt)("li",{parentName:"ol"},"a WASM runtime (WebAssembly)"),(0,i.kt)("li",{parentName:"ol"},"a WASI implementation (WebAssembly System Interface).")),(0,i.kt)("p",null,"All of these are cryptographically measured and checked at runtime before each deployment.  They are not the only layers in the stack, however.  Others include the CPU (in which layer we also include CPU firmware), the host kernel and the application itself.  See below for a little more detail about the trust architecture."),(0,i.kt)("p",null,"Note: Enarx does not use a TPM as part of its trust architecture.  See ",(0,i.kt)("a",{parentName:"p",href:"FAQ#is-enarx-a-host-attestation-project"},"Is Enarx a host attestation project?")," and ",(0,i.kt)("a",{parentName:"p",href:"FAQ#does-enarx-useneed-a-tpm"},"Does Enarx use/need a TPM?")," on the ",(0,i.kt)("a",{parentName:"p",href:"FAQ"},"FAQ page")," for more details."),(0,i.kt)("p",null,'In this discussion, the party doing the trusting (the "trustor") is the tenant, or client: the entity wishing to execute a workload, referred to in this architecture as the "application".  A fundamental principle of the Enarx project is that the client does ',(0,i.kt)("em",{parentName:"p"},"not")," trust the host, its owner or operator.  Although the host's owner (or the host's operator) may have trust requirements, these are not addressed in this discussion."),(0,i.kt)("h2",{id:"components-and-associated-trust-domains"},"Components and associated trust domains"),(0,i.kt)("h3",{id:"cpu"},"CPU"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:")," Trusted \ud83d\udc9a "),(0,i.kt)("p",null,"In order to do any standard computation, the CPU must be trusted to perform operations.  In the Enarx trust model, the validity of the CPU and firmware are both checked cryptographically at runtime, as they provide the hardware root of the trust for the entire architecture.  If either is found not to be valid, then the provisioning components of the Enarx system will not schedule an application to run on the host."),(0,i.kt)("h3",{id:"kernel"},"Kernel"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:")," Untrusted \ud83d\udd34"),(0,i.kt)("p",null,"The kernel is that which is provided by the host on which the Enarx Keep is to be created.  It is under the control of the host's owner/operator, and is therefore untrusted by the client."),(0,i.kt)("h3",{id:"vmm-virtual-memory-manager"},"VMM (Virtual Memory Manager)"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:")," Untrusted \ud83d\udd34"),(0,i.kt)("p",null,"The VMM is provided by Enarx, and provides memory management for processes within the Enarx Keep, but is untrusted: specifically, it has access only to encrypted memory pages."),(0,i.kt)("h3",{id:"microkernel-\u03bckernel"},"Microkernel (\u03bckernel)"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:")," Trusted \ud83d\udc9a"),(0,i.kt)("p",null,"The microkernel is provided by Enarx, and is trusted to perform standard kernel operations.  "),(0,i.kt)("h3",{id:"wasm-webassembly-runtime"},"WASM (WebAssembly runtime)"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:")," Trusted \ud83d\udc9a"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://webassembly.org/"},"WASM")," runtime is provided by Enarx, and is trusted to provide the runtime for the application within the Enarx Keep, and includes silicon architecture specific JIT (Just In Time) compilation for performance optimisation."),(0,i.kt)("h3",{id:"wasi-webassembly-system-interface"},"WASI (WebAssembly System Interface)"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:")," Trusted \ud83d\udc9a"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://wasi.dev/"},"WASI")," layer is provided by Enarx, and is an interface for WebAssembly applications running on server-type systems (rather than in browsers, for instance).  It is focused on security and portability, and is trusted."),(0,i.kt)("h3",{id:"application"},"Application"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Status:"),"  Trusted \ud83d\udc9a"),(0,i.kt)("p",null,"The application layer is the workload provided by the client to run within the Enarx Keep.  It is not provided by Enarx, but is considered trusted by the client as it was provided by them."),(0,i.kt)("h2",{id:"diagram-of-enarx-components"},"Diagram of Enarx components"),(0,i.kt)("p",null,"Here is another view of the detail of Enarx components:",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/enarx/enarx.github.io/main/static/assets/images/enarx-component-detail.png",alt:"Enarx component details image"})))}m.isMDXComponent=!0}}]);